import{j as e,a as o}from"./react-gVYGEdRH.js";import{c as _}from"./react-dom-B3naNNVN.js";import{a as j}from"./axios-upsvKRUO.js";import{c as C,D as F}from"./react-hot-toast-BFT4SB-_.js";import{H as K,a as U,b as Y,c as q,d as z,e as B,f as G,g as X,W as N,h as Q,i as J,F as W,j as D,k as H,l as L,m as A,n as M,o as P,p as V,q as Z,r as ee}from"./react-icons-CBRubDg7.js";import{R as se,A as ae,X as te,Y as re,T as ie,a as ne,L as le}from"./recharts-Xdmyi_84.js";import"./eventemitter3-BFZ8r7KD.js";import"./scheduler-vn6Di64w.js";import"./goober-np-fLvOt.js";import"./clsx-B-dksMZM.js";import"./lodash-IXGOsZKI.js";import"./react-smooth-BSRdG2qH.js";import"./prop-types-DVIH8rkB.js";import"./fast-equals-ZdSpnPBb.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-DjFPhhqo.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-6_AdwBXU.js";import"./d3-scale-BYIooUZQ.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-BKO53YJi.js";import"./d3-time-QpEiTrED.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-D9pomLsj.js";import"./decimal.js-light-o4b8z7FO.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const t of a)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const t={};return a.integrity&&(t.integrity=a.integrity),a.referrerPolicy&&(t.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?t.credentials="include":a.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(a){if(a.ep)return;a.ep=!0;const t=r(a);fetch(a.href,t)}})();const oe=({darkMode:s,toggleDarkMode:n,searchCity:r,setSearchCity:i,handleSearch:a,toggleSidebar:t})=>e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:t,className:"mr-4 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 lg:hidden",children:e.jsx(K,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})}),e.jsxs("div",{className:"relative max-w-xl w-full",children:[e.jsx("input",{type:"text",value:r,onChange:l=>i(l.target.value),onKeyPress:l=>l.key==="Enter"&&a(),placeholder:"Search for a city...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx(U,{className:"absolute left-3 top-2.5 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"flex items-center ml-4 space-x-4",children:[e.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200",children:s?e.jsx(Y,{className:"w-6 h-6 text-yellow-500"}):e.jsx(q,{className:"w-6 h-6 text-gray-500"})}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200",children:e.jsx(z,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]})]})}),de=[{icon:G,label:"Home",path:"/"},{icon:X,label:"About",path:"/about"},{icon:N,label:"Forecast",path:"/forecast"},{icon:Q,label:"Analytics",path:"/analytics"},{icon:J,label:"Settings",path:"/settings"}],ce=({isOpen:s,toggleSidebar:n})=>e.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Weather App"}),e.jsx("button",{onClick:n,className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 lg:hidden",children:e.jsx(B,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),e.jsx("nav",{className:"flex-1 p-4",children:e.jsx("ul",{className:"space-y-2",children:de.map(r=>e.jsx("li",{children:e.jsxs("a",{href:r.path,className:"flex items-center p-3 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200",children:[e.jsx(r.icon,{className:"w-6 h-6 mr-3"}),r.label]})},r.label))})})]})}),me=({weather:s,loading:n})=>{const[r,i]=o.useState(null),a="zfot8ee09EYEksNcnqlOTmHefzYRJQhTQNvIc3GdR9E";return o.useEffect(()=>{s&&fetch(`https://api.unsplash.com/search/photos?query=${s.name}&client_id=${a}&per_page=1`).then(t=>t.json()).then(t=>{t.results&&t.results.length>0?i(t.results[0].urls.regular):i(null)}).catch(t=>{console.error("Error fetching city photo:",t),i(null)})},[s]),n?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-300 dark:bg-gray-700"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-700 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-24 bg-gray-300 dark:bg-gray-700 rounded mb-4"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("div",{className:"h-20 bg-gray-300 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-20 bg-gray-300 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-20 bg-gray-300 dark:bg-gray-700 rounded"})]})]})]}):s?e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden ${n?"animate-pulse":"animate-fadeIn"}`,children:[r&&e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:r||"/placeholder.svg",alt:`${s.name} city`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),e.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[e.jsx("h2",{className:"text-3xl font-bold",children:s.name}),e.jsx("p",{className:"text-sm",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"text-6xl font-bold text-gray-900 dark:text-white",children:[Math.round(s.main.temp),"°C"]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center justify-end mb-1",children:[e.jsx(W,{className:"text-red-500 w-4 h-4 mr-1"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Math.round(s.main.temp_max),"°C"]})]}),e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsx(D,{className:"text-blue-500 w-4 h-4 mr-1"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Math.round(s.main.temp_min),"°C"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(H,{className:"w-8 h-8 text-blue-500"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Humidity"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[s.main.humidity,"%"]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(L,{className:"w-8 h-8 text-green-500"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Wind"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[s.wind.speed," m/s"]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(A,{className:"w-8 h-8 text-purple-500"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pressure"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[s.main.pressure," hPa"]})]})]})]})]}):null},xe=({data:s,loading:n})=>{const i=(a=>{const t=[];for(let d=0;d<=23;d++){const y=`${d%12===0?12:d%12}:00 ${d<12?"AM":"PM"}`,c=a.find(f=>f.time===`${d}:00`);c?t.push({...c,time:y}):t.push({time:y,temp:null})}return t})(s);return e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${n?"animate-pulse":"animate-fadeIn"}`,children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Temperature Trend"}),n?e.jsx("div",{className:"h-64 sm:h-80 bg-gray-300 dark:bg-gray-700 rounded"}):e.jsx("div",{className:"h-64 sm:h-80",children:e.jsx(se,{width:"100%",height:"100%",children:e.jsxs(ae,{data:i,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"tempColor",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#6b7280",stopOpacity:.8})," ",e.jsx("stop",{offset:"95%",stopColor:"#6b7280",stopOpacity:0})," "]})}),e.jsx(te,{dataKey:"time",interval:"preserveStartEnd",tickCount:6,tick:{fill:"#6b7280",fontSize:12}}),e.jsx(re,{axisLine:!0,tickLine:!0,domain:["auto","auto"],tick:{fill:"#6b7280",fontSize:12}}),e.jsx(ie,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.8)",border:"none",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),e.jsx(ne,{type:"monotone",dataKey:"temp",stroke:"#3b82f6",fillOpacity:1,fill:"url(#tempColor)"}),e.jsx(le,{type:"monotone",dataKey:"temp",stroke:"#3b82f6",strokeWidth:3,dot:!0,activeDot:{r:6}})]})})})]})},ge=s=>{switch(s){case"Clear":return e.jsx(N,{className:"w-10 h-10 text-yellow-500"});case"Rain":return e.jsx(P,{className:"w-10 h-10 text-blue-500"});default:return e.jsx(M,{className:"w-10 h-10 text-gray-500"})}},he=({forecast:s,loading:n})=>e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${n?"animate-pulse":"animate-fadeIn"}`,children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"3-Day Forecast"}),e.jsx("div",{className:"space-y-4",children:n?[1,2,3].map(r=>e.jsx("div",{className:"h-20 bg-gray-300 dark:bg-gray-700 rounded"},r)):s==null?void 0:s.map((r,i)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[ge(r.condition),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:new Date(r.date).toLocaleDateString("en-US",{weekday:"long"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.condition})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(W,{className:"text-red-500 w-4 h-4 mr-1"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Math.round(r.maxTemp),"°C"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{className:"text-blue-500 w-4 h-4 mr-1"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Math.round(r.minTemp),"°C"]})]})]})]},i))})]}),ue=({title:s,value:n,unit:r,icon:i,color:a})=>e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-4 flex flex-col items-center justify-center shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(i,{className:`w-8 h-8 ${a}`}),e.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-300 text-sm",children:s})]}),e.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[n,e.jsx("span",{className:"text-sm ml-1",children:r})]})]}),pe=({weather:s,loading:n})=>{if(n)return e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-xl shadow-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(a=>e.jsx("div",{className:"h-24 bg-gray-300 dark:bg-gray-700 rounded"},a))})]});if(!s)return null;const r=new Date(s.sys.sunrise*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),i=new Date(s.sys.sunset*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:`bg-gray-100 dark:bg-gray-800 rounded-xl shadow-lg p-6 ${n?"animate-pulse":"animate-fadeIn"}`,children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Today's Highlights"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:n?[1,2,3,4,5,6].map(a=>e.jsx("div",{className:"h-24 bg-gray-300 dark:bg-gray-700 rounded"},a)):[{title:"Feels Like",value:Math.round(s.main.feels_like),unit:"°C",icon:V,color:"text-red-500"},{title:"Humidity",value:s.main.humidity,unit:"%",icon:H,color:"text-blue-500"},{title:"Wind Speed",value:s.wind.speed,unit:"m/s",icon:L,color:"text-green-500"},{title:"Pressure",value:s.main.pressure,unit:"hPa",icon:A,color:"text-purple-500"},{title:"Sunrise",value:r,unit:"",icon:Z,color:"text-yellow-500"},{title:"Sunset",value:i,unit:"",icon:ee,color:"text-orange-500"}].map((a,t)=>e.jsx(ue,{title:a.title,value:a.value,unit:a.unit,icon:a.icon,color:a.color},t))})]})},ye="64a50d98c543deaa3972d08a76c4a050",fe="https://api.openweathermap.org/data/2.5",E=[{name:"London",condition:"Clear"},{name:"New York",condition:"Cloudy"},{name:"Mumbai",condition:"Rain"},{name:"Paris",condition:"Clear"}],be=s=>{switch(s){case"Clear":return e.jsx(N,{className:"w-8 h-8 text-yellow-500"});case"Rain":return e.jsx(P,{className:"w-8 h-8 text-blue-500"});default:return e.jsx(M,{className:"w-8 h-8 text-gray-500"})}},je=({loading:s})=>{const[n,r]=o.useState([]);return o.useEffect(()=>{(async()=>{try{const t=(await Promise.all(E.map(l=>j.get(`${fe}/weather?q=${l.name}&units=metric&appid=${ye}`)))).map((l,p)=>({name:E[p].name,temp:l.data.main.temp,condition:l.data.weather[0].main}));r(t)}catch(a){console.error("Error fetching weather data:",a)}})()},[]),s?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[1,2,3,4].map(i=>e.jsx("div",{className:"h-24 bg-gray-300 dark:bg-gray-700 rounded"},i))})]}):e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${s?"animate-pulse":"animate-fadeIn"}`,children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Other Cities"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s?[1,2,3,4].map(i=>e.jsx("div",{className:"h-24 bg-gray-300 dark:bg-gray-700 rounded"},i)):n.map(i=>e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:i.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i.condition})]}),e.jsxs("div",{className:"flex items-center",children:[be(i.condition),e.jsxs("span",{className:"ml-2 text-xl font-bold text-gray-900 dark:text-white",children:[Math.round(i.temp),"°C"]})]})]},i.name))})]})},$="64a50d98c543deaa3972d08a76c4a050",T="https://api.openweathermap.org/data/2.5";function Ne(){const[s,n]=o.useState(!1),[r,i]=o.useState(""),[a,t]=o.useState(null),[l,p]=o.useState(null),[d,y]=o.useState(!1),[c,f]=o.useState(!0);o.useEffect(()=>{s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]),o.useEffect(()=>{v("London")},[]);const v=async b=>{var u,k,S;f(!0);try{const g=await j.get(`${T}/weather?q=${b}&units=metric&appid=${$}`);t(g.data);const R=(await j.get(`${T}/forecast?q=${b}&units=metric&appid=${$}`)).data.list.reduce((m,x)=>{const h=new Date(x.dt*1e3).toDateString();return m[h]?(m[h].maxTemp=Math.max(m[h].maxTemp,x.main.temp_max),m[h].minTemp=Math.min(m[h].minTemp,x.main.temp_min)):m[h]={date:x.dt*1e3,maxTemp:x.main.temp_max,minTemp:x.main.temp_min,condition:x.weather[0].main},m},{});p(Object.values(R).slice(0,3))}catch(g){console.error("API Error:",((u=g.response)==null?void 0:u.data)||g.message),(S=(k=g.response)==null?void 0:k.data)!=null&&S.message?C.error(`Error: ${g.response.data.message}`):C.error("Error fetching weather data. Please try again.")}finally{f(!1)}},I=()=>{n(!s)},w=()=>{y(!d)},O=a?Array.from({length:24},(b,u)=>({time:`${u}:00`,temp:Math.round(a.main.temp+Math.sin(u/4)*2)})):[];return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(ce,{isOpen:d,toggleSidebar:w}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(oe,{darkMode:s,toggleDarkMode:I,searchCity:r,setSearchCity:i,handleSearch:()=>v(r),toggleSidebar:w}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 lg:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(me,{weather:a,loading:c}),e.jsx(je,{loading:c})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(pe,{weather:a,loading:c}),e.jsx(he,{forecast:l,loading:c})]}),e.jsx(xe,{data:O,loading:c})]})})]}),e.jsx(F,{position:"top-right"})]})}_.createRoot(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx(Ne,{})}));
