import{R as e,a as m}from"./react-BBi4tVxW.js";import{c as j}from"./react-dom-B9DJK9My.js";import{a as b}from"./axios-upsvKRUO.js";import{c as C,D as F}from"./react-hot-toast-Cwi8RTvf.js";import{H as K,a as U,b as Y,c as q,d as z,e as B,f as G,g as X,W as N,h as Q,i as J,F as D,j as W,k as H,l as L,m as A,n as M,o as P,p as V,q as Z,r as ee}from"./react-icons-H6DvhL5W.js";import{R as te,A as ae,X as re,Y as se,T as ne,a as le,L as ce}from"./recharts-Bcm4D7Cv.js";import"./eventemitter3-BFZ8r7KD.js";import"./scheduler-vn6Di64w.js";import"./goober-np-fLvOt.js";import"./clsx-B-dksMZM.js";import"./lodash-IXGOsZKI.js";import"./react-smooth-CMbQSymx.js";import"./prop-types-DVIH8rkB.js";import"./fast-equals-ZdSpnPBb.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-DjFPhhqo.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-6_AdwBXU.js";import"./d3-scale-BYIooUZQ.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-BKO53YJi.js";import"./d3-time-QpEiTrED.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-D9pomLsj.js";import"./decimal.js-light-o4b8z7FO.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(a){if(a.ep)return;a.ep=!0;const r=s(a);fetch(a.href,r)}})();const me=({darkMode:t,toggleDarkMode:l,searchCity:s,setSearchCity:n,handleSearch:a,toggleSidebar:r})=>e.createElement("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center"},e.createElement("button",{onClick:r,className:"mr-4 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 lg:hidden"},e.createElement(K,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})),e.createElement("div",{className:"relative max-w-xl w-full"},e.createElement("input",{type:"text",value:s,onChange:c=>n(c.target.value),onKeyPress:c=>c.key==="Enter"&&a(),placeholder:"Search for a city...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.createElement(U,{className:"absolute left-3 top-2.5 text-gray-400 w-5 h-5"}))),e.createElement("div",{className:"flex items-center ml-4 space-x-4"},e.createElement("button",{onClick:l,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200"},t?e.createElement(Y,{className:"w-6 h-6 text-yellow-500"}):e.createElement(q,{className:"w-6 h-6 text-gray-500"})),e.createElement("button",{className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200"},e.createElement(z,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"}))))),ie=[{icon:G,label:"Home",path:"/"},{icon:X,label:"About",path:"/about"},{icon:N,label:"Forecast",path:"/forecast"},{icon:Q,label:"Analytics",path:"/analytics"},{icon:J,label:"Settings",path:"/settings"}],oe=({isOpen:t,toggleSidebar:l})=>e.createElement("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transform ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0`},e.createElement("div",{className:"flex flex-col h-full"},e.createElement("div",{className:"flex items-center justify-between p-4"},e.createElement("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white"},"Weather App"),e.createElement("button",{onClick:l,className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 lg:hidden"},e.createElement(B,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"}))),e.createElement("nav",{className:"flex-1 p-4"},e.createElement("ul",{className:"space-y-2"},ie.map(s=>e.createElement("li",{key:s.label},e.createElement("a",{href:s.path,className:"flex items-center p-3 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"},e.createElement(s.icon,{className:"w-6 h-6 mr-3"}),s.label))))))),de=({weather:t,loading:l})=>{const[s,n]=m.useState(null),a="zfot8ee09EYEksNcnqlOTmHefzYRJQhTQNvIc3GdR9E";return m.useEffect(()=>{t&&fetch(`https://api.unsplash.com/search/photos?query=${t.name}&client_id=${a}&per_page=1`).then(r=>r.json()).then(r=>{r.results&&r.results.length>0?n(r.results[0].urls.regular):n(null)}).catch(r=>{console.error("Error fetching city photo:",r),n(null)})},[t]),l?e.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden animate-pulse"},e.createElement("div",{className:"h-48 bg-gray-300 dark:bg-gray-700"}),e.createElement("div",{className:"p-6"},e.createElement("div",{className:"h-8 bg-gray-300 dark:bg-gray-700 rounded w-1/2 mb-4"}),e.createElement("div",{className:"h-24 bg-gray-300 dark:bg-gray-700 rounded mb-4"}),e.createElement("div",{className:"grid grid-cols-3 gap-4"},e.createElement("div",{className:"h-20 bg-gray-300 dark:bg-gray-700 rounded"}),e.createElement("div",{className:"h-20 bg-gray-300 dark:bg-gray-700 rounded"}),e.createElement("div",{className:"h-20 bg-gray-300 dark:bg-gray-700 rounded"})))):t?e.createElement("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden ${l?"animate-pulse":"animate-fadeIn"}`},s&&e.createElement("div",{className:"relative h-48"},e.createElement("img",{src:s||"/placeholder.svg",alt:`${t.name} city`,className:"w-full h-full object-cover"}),e.createElement("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),e.createElement("div",{className:"absolute bottom-4 left-4 text-white"},e.createElement("h2",{className:"text-3xl font-bold"},t.name),e.createElement("p",{className:"text-sm"},new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})))),e.createElement("div",{className:"p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"text-6xl font-bold text-gray-900 dark:text-white"},Math.round(t.main.temp),"°C"),e.createElement("div",{className:"text-right"},e.createElement("div",{className:"flex items-center justify-end mb-1"},e.createElement(D,{className:"text-red-500 w-4 h-4 mr-1"}),e.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},Math.round(t.main.temp_max),"°C")),e.createElement("div",{className:"flex items-center justify-end"},e.createElement(W,{className:"text-blue-500 w-4 h-4 mr-1"}),e.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},Math.round(t.main.temp_min),"°C")))),e.createElement("div",{className:"grid grid-cols-3 gap-4"},e.createElement("div",{className:"flex flex-col items-center"},e.createElement(H,{className:"w-8 h-8 text-blue-500"}),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Humidity"),e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white"},t.main.humidity,"%")),e.createElement("div",{className:"flex flex-col items-center"},e.createElement(L,{className:"w-8 h-8 text-green-500"}),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Wind"),e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white"},t.wind.speed," m/s")),e.createElement("div",{className:"flex flex-col items-center"},e.createElement(A,{className:"w-8 h-8 text-purple-500"}),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Pressure"),e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white"},t.main.pressure," hPa"))))):null},ge=({data:t,loading:l})=>{const n=(a=>{const r=[];for(let i=0;i<=23;i++){const x=`${i%12===0?12:i%12}:00 ${i<12?"AM":"PM"}`,o=a.find(f=>f.time===`${i}:00`);o?r.push({...o,time:x}):r.push({time:x,temp:null})}return r})(t);return e.createElement("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${l?"animate-pulse":"animate-fadeIn"}`},e.createElement("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"Temperature Trend"),l?e.createElement("div",{className:"h-64 sm:h-80 bg-gray-300 dark:bg-gray-700 rounded"}):e.createElement("div",{className:"h-64 sm:h-80"},e.createElement(te,{width:"100%",height:"100%"},e.createElement(ae,{data:n},e.createElement("defs",null,e.createElement("linearGradient",{id:"tempColor",x1:"0",y1:"0",x2:"0",y2:"1"},e.createElement("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.createElement("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0}))),e.createElement(re,{dataKey:"time",interval:"preserveStartEnd",tickCount:6,tick:{fill:"#6b7280",fontSize:12}}),e.createElement(se,{axisLine:!0,tickLine:!0,domain:["auto","auto"],tick:{fill:"#6b7280",fontSize:12}}),e.createElement(ne,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.8)",border:"none",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),e.createElement(le,{type:"monotone",dataKey:"temp",stroke:"#3b82f6",fillOpacity:1,fill:"url(#tempColor)"}),e.createElement(ce,{type:"monotone",dataKey:"temp",stroke:"#3b82f6",dot:!0,activeDot:{r:6}})))))},ue=t=>{switch(t){case"Clear":return e.createElement(N,{className:"w-10 h-10 text-yellow-500"});case"Rain":return e.createElement(P,{className:"w-10 h-10 text-blue-500"});default:return e.createElement(M,{className:"w-10 h-10 text-gray-500"})}},pe=({forecast:t,loading:l})=>e.createElement("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${l?"animate-pulse":"animate-fadeIn"}`},e.createElement("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"3-Day Forecast"),e.createElement("div",{className:"space-y-4"},l?[1,2,3].map(s=>e.createElement("div",{key:s,className:"h-20 bg-gray-300 dark:bg-gray-700 rounded"})):t==null?void 0:t.map((s,n)=>e.createElement("div",{key:n,className:"flex items-center justify-between bg-gray-100 dark:bg-gray-700 p-4 rounded-lg"},e.createElement("div",{className:"flex items-center space-x-4"},ue(s.condition),e.createElement("div",null,e.createElement("p",{className:"text-lg font-semibold text-gray-900 dark:text-white"},new Date(s.date).toLocaleDateString("en-US",{weekday:"long"})),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},s.condition))),e.createElement("div",{className:"flex items-center space-x-4"},e.createElement("div",{className:"flex items-center"},e.createElement(D,{className:"text-red-500 w-4 h-4 mr-1"}),e.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},Math.round(s.maxTemp),"°C")),e.createElement("div",{className:"flex items-center"},e.createElement(W,{className:"text-blue-500 w-4 h-4 mr-1"}),e.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},Math.round(s.minTemp),"°C"))))))),he=({title:t,value:l,unit:s,icon:n,color:a})=>e.createElement("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-4 flex flex-col items-center justify-center shadow-sm"},e.createElement("div",{className:"flex items-center mb-2"},e.createElement(n,{className:`w-8 h-8 ${a}`}),e.createElement("span",{className:"ml-2 text-gray-600 dark:text-gray-300 text-sm"},t)),e.createElement("div",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center"},l,e.createElement("span",{className:"text-sm ml-1"},s))),ye=({weather:t,loading:l})=>{if(l)return e.createElement("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-xl shadow-lg p-6 animate-pulse"},e.createElement("div",{className:"h-8 bg-gray-300 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4"},[1,2,3,4,5,6].map(a=>e.createElement("div",{key:a,className:"h-24 bg-gray-300 dark:bg-gray-700 rounded"}))));if(!t)return null;const s=new Date(t.sys.sunrise*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),n=new Date(t.sys.sunset*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return e.createElement("div",{className:`bg-gray-100 dark:bg-gray-800 rounded-xl shadow-lg p-6 ${l?"animate-pulse":"animate-fadeIn"}`},e.createElement("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"Today's Highlights"),e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4"},l?[1,2,3,4,5,6].map(a=>e.createElement("div",{key:a,className:"h-24 bg-gray-300 dark:bg-gray-700 rounded"})):[{title:"Feels Like",value:Math.round(t.main.feels_like),unit:"°C",icon:V,color:"text-red-500"},{title:"Humidity",value:t.main.humidity,unit:"%",icon:H,color:"text-blue-500"},{title:"Wind Speed",value:t.wind.speed,unit:"m/s",icon:L,color:"text-green-500"},{title:"Pressure",value:t.main.pressure,unit:"hPa",icon:A,color:"text-purple-500"},{title:"Sunrise",value:s,unit:"",icon:Z,color:"text-yellow-500"},{title:"Sunset",value:n,unit:"",icon:ee,color:"text-orange-500"}].map((a,r)=>e.createElement(he,{key:r,title:a.title,value:a.value,unit:a.unit,icon:a.icon,color:a.color}))))},xe="64a50d98c543deaa3972d08a76c4a050",fe="https://api.openweathermap.org/data/2.5",R=[{name:"London",condition:"Clear"},{name:"New York",condition:"Cloudy"},{name:"Mumbai",condition:"Rain"},{name:"Paris",condition:"Clear"}],Ee=t=>{switch(t){case"Clear":return e.createElement(N,{className:"w-8 h-8 text-yellow-500"});case"Rain":return e.createElement(P,{className:"w-8 h-8 text-blue-500"});default:return e.createElement(M,{className:"w-8 h-8 text-gray-500"})}},be=({loading:t})=>{const[l,s]=m.useState([]);return m.useEffect(()=>{(async()=>{try{const r=(await Promise.all(R.map(c=>b.get(`${fe}/weather?q=${c.name}&units=metric&appid=${xe}`)))).map((c,y)=>({name:R[y].name,temp:c.data.main.temp,condition:c.data.weather[0].main}));s(r)}catch(a){console.error("Error fetching weather data:",a)}})()},[]),t?e.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 animate-pulse"},e.createElement("div",{className:"h-8 bg-gray-300 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},[1,2,3,4].map(n=>e.createElement("div",{key:n,className:"h-24 bg-gray-300 dark:bg-gray-700 rounded"})))):e.createElement("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${t?"animate-pulse":"animate-fadeIn"}`},e.createElement("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"Other Cities"),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},t?[1,2,3,4].map(n=>e.createElement("div",{key:n,className:"h-24 bg-gray-300 dark:bg-gray-700 rounded"})):l.map(n=>e.createElement("div",{key:n.name,className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4 flex items-center justify-between"},e.createElement("div",null,e.createElement("h4",{className:"font-medium text-gray-900 dark:text-white"},n.name),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},n.condition)),e.createElement("div",{className:"flex items-center"},Ee(n.condition),e.createElement("span",{className:"ml-2 text-xl font-bold text-gray-900 dark:text-white"},Math.round(n.temp),"°C"))))))},$="64a50d98c543deaa3972d08a76c4a050",T="https://api.openweathermap.org/data/2.5";function Ne(){const[t,l]=m.useState(!1),[s,n]=m.useState(""),[a,r]=m.useState(null),[c,y]=m.useState(null),[i,x]=m.useState(!1),[o,f]=m.useState(!0);m.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),m.useEffect(()=>{v("London")},[]);const v=async E=>{var h,k,S;f(!0);try{const u=await b.get(`${T}/weather?q=${E}&units=metric&appid=${$}`);r(u.data);const _=(await b.get(`${T}/forecast?q=${E}&units=metric&appid=${$}`)).data.list.reduce((d,g)=>{const p=new Date(g.dt*1e3).toDateString();return d[p]?(d[p].maxTemp=Math.max(d[p].maxTemp,g.main.temp_max),d[p].minTemp=Math.min(d[p].minTemp,g.main.temp_min)):d[p]={date:g.dt*1e3,maxTemp:g.main.temp_max,minTemp:g.main.temp_min,condition:g.weather[0].main},d},{});y(Object.values(_).slice(0,3))}catch(u){console.error("API Error:",((h=u.response)==null?void 0:h.data)||u.message),(S=(k=u.response)==null?void 0:k.data)!=null&&S.message?C.error(`Error: ${u.response.data.message}`):C.error("Error fetching weather data. Please try again.")}finally{f(!1)}},I=()=>{l(!t)},w=()=>{x(!i)},O=a?Array.from({length:24},(E,h)=>({time:`${h}:00`,temp:Math.round(a.main.temp+Math.sin(h/4)*2)})):[];return React.createElement("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300"},React.createElement(oe,{isOpen:i,toggleSidebar:w}),React.createElement("div",{className:"flex-1 flex flex-col overflow-hidden"},React.createElement(me,{darkMode:t,toggleDarkMode:I,searchCity:s,setSearchCity:n,handleSearch:()=>v(s),toggleSidebar:w}),React.createElement("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 lg:p-8"},React.createElement("div",{className:"max-w-7xl mx-auto space-y-6"},React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},React.createElement(de,{weather:a,loading:o}),React.createElement(be,{loading:o})),React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},React.createElement(ye,{weather:a,loading:o}),React.createElement(pe,{forecast:c,loading:o})),React.createElement(ge,{data:O,loading:o})))),React.createElement(F,{position:"top-right"}))}j.createRoot(document.getElementById("root")).render(React.createElement(m.StrictMode,null,React.createElement(Ne,null)));
