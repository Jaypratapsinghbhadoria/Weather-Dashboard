import{j as e,r as o}from"./react-BqgxVaOo.js";import{c as Z}from"./react-dom-BR0P7Xzr.js";import{a as N}from"./axios-upsvKRUO.js";import{c as k,D as V}from"./react-hot-toast-CMnrhmzx.js";import{H as ee,a as te,b as M,c as R,d as ae,e as H,f as se,g as re,h as ie,i as ne,W as S,j as le,F as _,k as F,l as O,m as U,n as B,o as K,p as z,q as oe,r as de,s as ce}from"./react-icons-Ckg50AZm.js";import{N as me,B as xe,R as ge,a as f}from"./react-router-KUfXgAjm.js";import{R as he,A as ue,X as pe,Y as ye,T as be,a as je,L as fe}from"./recharts-BNpJwXp8.js";import{L as Ne,B as we}from"./react-chartjs-2-BXCt6kQg.js";import{C as ve,a as ke,b as Se,P as Ce,c as Ee,d as Ae,p as De,e as $e,f as Le,i as Te}from"./chart.js-dxUHkZd6.js";import"./cookie-CY119PWS.js";import"./scheduler-vn6Di64w.js";import"./goober-np-fLvOt.js";import"./clsx-B-dksMZM.js";import"./lodash-B0AyYu2h.js";import"./react-smooth-Cu71nLrI.js";import"./prop-types-L5NmFoeK.js";import"./fast-equals-ZdSpnPBb.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-DjFPhhqo.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-6_AdwBXU.js";import"./d3-scale-BYIooUZQ.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-BKO53YJi.js";import"./d3-time-QpEiTrED.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-D9pomLsj.js";import"./decimal.js-light-o4b8z7FO.js";import"./eventemitter3-MNDi1JEb.js";import"./@kurkle-D8fDXNIl.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();const Pe=({darkMode:t,toggleDarkMode:i,searchCity:n,setSearchCity:s,handleSearch:a,toggleSidebar:r})=>e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:r,className:"mr-4 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 lg:hidden",children:e.jsx(ee,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})}),e.jsxs("div",{className:"relative max-w-xl w-full",children:[e.jsx("input",{type:"text",value:n,onChange:l=>s(l.target.value),onKeyPress:l=>l.key==="Enter"&&a(),placeholder:"Search for a city...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx(te,{className:"absolute left-3 top-2.5 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"flex items-center ml-4 space-x-4",children:[e.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200",children:t?e.jsx(M,{className:"w-6 h-6 text-yellow-500"}):e.jsx(R,{className:"w-6 h-6 text-gray-500"})}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200",children:e.jsx(ae,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]})]})}),Y=o.createContext(),We=()=>o.useContext(Y),Ie=({children:t})=>{const[i,n]=o.useState(localStorage.getItem("theme")||"light"),[s,a]=o.useState(localStorage.getItem("unit")||"Celsius");return o.useEffect(()=>{document.documentElement.classList.toggle("dark",i==="dark"),localStorage.setItem("theme",i)},[i]),o.useEffect(()=>{localStorage.setItem("unit",s)},[s]),e.jsx(Y.Provider,{value:{theme:i,setTheme:n,unit:s,setUnit:a},children:t})},q=({isOpen:t,toggleSettings:i})=>{const{theme:n,setTheme:s,unit:a,setUnit:r}=We(),l=()=>{s("light"),r("Celsius"),localStorage.removeItem("theme"),localStorage.removeItem("unit")};return t?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-96",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Settings"}),e.jsx("button",{onClick:i,className:"text-gray-600 dark:text-gray-300 hover:text-red-500",children:e.jsx(H,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Theme"}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxs("button",{className:`flex items-center px-4 py-2 rounded-lg transition-colors ${n==="light"?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,onClick:()=>s("light"),children:[e.jsx(M,{className:"w-5 h-5 mr-2"})," Light"]}),e.jsxs("button",{className:`flex items-center px-4 py-2 rounded-lg transition-colors ${n==="dark"?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,onClick:()=>s("dark"),children:[e.jsx(R,{className:"w-5 h-5 mr-2"})," Dark"]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-between",children:[e.jsxs("button",{onClick:l,className:"px-4 py-2 flex items-center bg-red-500 text-white rounded-lg hover:bg-red-600",children:[e.jsx(se,{className:"w-5 h-5 mr-2"}),"Reset Settings"]}),e.jsx("button",{onClick:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Close"})]})]})}):null},Me=[{icon:ie,label:"Home",path:"/"},{icon:ne,label:"About",path:"/about"},{icon:S,label:"Forecast",path:"/forecast"},{icon:le,label:"Analytics",path:"/analytics"}],Re=({isOpen:t,toggleSidebar:i})=>{const[n,s]=o.useState(!1),a=()=>{s(!n)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transform ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Weather App"}),e.jsx("button",{onClick:i,className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 lg:hidden",children:e.jsx(H,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),e.jsx("nav",{className:"flex-1 p-4",children:e.jsxs("ul",{className:"space-y-2",children:[Me.map(r=>e.jsx("li",{children:e.jsxs(me,{to:r.path,className:({isActive:l})=>`flex items-center p-3 rounded-lg transition-colors duration-200 ${l?"bg-gray-300 dark:bg-gray-700 text-gray-900 dark:text-white font-bold":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[e.jsx(r.icon,{className:"w-6 h-6 mr-3"}),r.label]})},r.label)),e.jsx("li",{children:e.jsxs("button",{onClick:a,className:"flex w-full items-center p-3 rounded-lg transition-colors duration-200 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700",children:[e.jsx(re,{className:"w-6 h-6 mr-3"}),"Settings"]})})]})})]})}),e.jsx(q,{isOpen:n,toggleSettings:a})]})},He=({weather:t,loading:i})=>{const[n,s]=o.useState(null),a="zfot8ee09EYEksNcnqlOTmHefzYRJQhTQNvIc3GdR9E";return o.useEffect(()=>{t&&fetch(`https://api.unsplash.com/search/photos?query=${t.name}&client_id=${a}&per_page=1`).then(r=>r.json()).then(r=>{r.results&&r.results.length>0?s(r.results[0].urls.regular):s(null)}).catch(r=>{console.error("Error fetching city photo:",r),s(null)})},[t]),i?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-300 dark:bg-gray-700"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-700 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-24 bg-gray-300 dark:bg-gray-700 rounded mb-4"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("div",{className:"h-20 bg-gray-300 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-20 bg-gray-300 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-20 bg-gray-300 dark:bg-gray-700 rounded"})]})]})]}):t?e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden ${i?"animate-pulse":"animate-fadeIn"}`,children:[n&&e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:n||"/placeholder.svg",alt:`${t.name} city`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),e.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[e.jsx("h2",{className:"text-3xl font-bold",children:t.name}),e.jsx("p",{className:"text-sm",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"text-6xl font-bold text-gray-900 dark:text-white",children:[Math.round(t.main.temp),"Â°C"]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center justify-end mb-1",children:[e.jsx(_,{className:"text-red-500 w-4 h-4 mr-1"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Math.round(t.main.temp_max),"Â°C"]})]}),e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsx(F,{className:"text-blue-500 w-4 h-4 mr-1"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Math.round(t.main.temp_min),"Â°C"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(O,{className:"w-8 h-8 text-blue-500"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Humidity"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[t.main.humidity,"%"]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(U,{className:"w-8 h-8 text-green-500"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Wind"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[t.wind.speed," m/s"]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(B,{className:"w-8 h-8 text-purple-500"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pressure"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[t.main.pressure," hPa"]})]})]})]})]}):null},_e=({data:t,loading:i})=>{const s=(a=>{const r=[];for(let d=0;d<=23;d++){const p=`${d%12===0?12:d%12}:00 ${d<12?"AM":"PM"}`,h=a.find(w=>w.time===`${d}:00`);h?r.push({...h,time:p}):r.push({time:p,temp:null})}return r})(t);return e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${i?"animate-pulse":"animate-fadeIn"}`,children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Temperature Trend"}),i?e.jsx("div",{className:"h-64 sm:h-80 bg-gray-300 dark:bg-gray-700 rounded"}):e.jsx("div",{className:"h-64 sm:h-80",children:e.jsx(he,{width:"100%",height:"100%",children:e.jsxs(ue,{data:s,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"tempColor",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#6b7280",stopOpacity:.8})," ",e.jsx("stop",{offset:"95%",stopColor:"#6b7280",stopOpacity:0})," "]})}),e.jsx(pe,{dataKey:"time",interval:"preserveStartEnd",tickCount:6,tick:{fill:"#6b7280",fontSize:12}}),e.jsx(ye,{axisLine:!0,tickLine:!0,domain:["auto","auto"],tick:{fill:"#6b7280",fontSize:12}}),e.jsx(be,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.8)",border:"none",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),e.jsx(je,{type:"monotone",dataKey:"temp",stroke:"#3b82f6",fillOpacity:1,fill:"url(#tempColor)"}),e.jsx(fe,{type:"monotone",dataKey:"temp",stroke:"#3b82f6",strokeWidth:3,dot:!0,activeDot:{r:6}})]})})})]})},Fe=t=>{switch(t){case"Clear":return e.jsx(S,{className:"w-10 h-10 text-yellow-500"});case"Rain":return e.jsx(z,{className:"w-10 h-10 text-blue-500"});default:return e.jsx(K,{className:"w-10 h-10 text-gray-500"})}},Oe=({forecast:t,loading:i})=>e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${i?"animate-pulse":"animate-fadeIn"}`,children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"3-Day Forecast"}),e.jsx("div",{className:"space-y-4",children:i?[1,2,3].map(n=>e.jsx("div",{className:"h-20 bg-gray-300 dark:bg-gray-700 rounded"},n)):t==null?void 0:t.map((n,s)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[Fe(n.condition),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:new Date(n.date).toLocaleDateString("en-US",{weekday:"long"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.condition})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"text-red-500 w-4 h-4 mr-1"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Math.round(n.maxTemp),"Â°C"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"text-blue-500 w-4 h-4 mr-1"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Math.round(n.minTemp),"Â°C"]})]})]})]},s))})]}),Ue=({title:t,value:i,unit:n,icon:s,color:a})=>e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-4 flex flex-col items-center justify-center shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(s,{className:`w-8 h-8 ${a}`}),e.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-300 text-sm",children:t})]}),e.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[i,e.jsx("span",{className:"text-sm ml-1",children:n})]})]}),Be=({weather:t,loading:i})=>{if(i)return e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-xl shadow-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(a=>e.jsx("div",{className:"h-24 bg-gray-300 dark:bg-gray-700 rounded"},a))})]});if(!t)return null;const n=new Date(t.sys.sunrise*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),s=new Date(t.sys.sunset*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:`bg-gray-100 dark:bg-gray-800 rounded-xl shadow-lg p-6 ${i?"animate-pulse":"animate-fadeIn"}`,children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Today's Highlights"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:i?[1,2,3,4,5,6].map(a=>e.jsx("div",{className:"h-24 bg-gray-300 dark:bg-gray-700 rounded"},a)):[{title:"Feels Like",value:Math.round(t.main.feels_like),unit:"Â°C",icon:oe,color:"text-red-500"},{title:"Humidity",value:t.main.humidity,unit:"%",icon:O,color:"text-blue-500"},{title:"Wind Speed",value:t.wind.speed,unit:"m/s",icon:U,color:"text-green-500"},{title:"Pressure",value:t.main.pressure,unit:"hPa",icon:B,color:"text-purple-500"},{title:"Sunrise",value:n,unit:"",icon:de,color:"text-yellow-500"},{title:"Sunset",value:s,unit:"",icon:ce,color:"text-orange-500"}].map((a,r)=>e.jsx(Ue,{title:a.title,value:a.value,unit:a.unit,icon:a.icon,color:a.color},r))})]})},Ke="64a50d98c543deaa3972d08a76c4a050",ze="https://api.openweathermap.org/data/2.5",P=[{name:"London",condition:"Clear"},{name:"New York",condition:"Cloudy"},{name:"Mumbai",condition:"Rain"},{name:"Paris",condition:"Clear"}],Ye=t=>{switch(t){case"Clear":return e.jsx(S,{className:"w-8 h-8 text-yellow-500"});case"Rain":return e.jsx(z,{className:"w-8 h-8 text-blue-500"});default:return e.jsx(K,{className:"w-8 h-8 text-gray-500"})}},qe=({loading:t})=>{const[i,n]=o.useState([]);return o.useEffect(()=>{(async()=>{try{const r=(await Promise.all(P.map(l=>N.get(`${ze}/weather?q=${l.name}&units=metric&appid=${Ke}`)))).map((l,g)=>({name:P[g].name,temp:l.data.main.temp,condition:l.data.weather[0].main}));n(r)}catch(a){console.error("Error fetching weather data:",a)}})()},[]),t?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[1,2,3,4].map(s=>e.jsx("div",{className:"h-24 bg-gray-300 dark:bg-gray-700 rounded"},s))})]}):e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${t?"animate-pulse":"animate-fadeIn"}`,children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Other Cities"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t?[1,2,3,4].map(s=>e.jsx("div",{className:"h-24 bg-gray-300 dark:bg-gray-700 rounded"},s)):i.map(s=>e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.condition})]}),e.jsxs("div",{className:"flex items-center",children:[Ye(s.condition),e.jsxs("span",{className:"ml-2 text-xl font-bold text-gray-900 dark:text-white",children:[Math.round(s.temp),"Â°C"]})]})]},s.name))})]})},Ge=()=>e.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"About Weather App"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:"Welcome to the Weather App! Our goal is to provide real-time, accurate weather forecasts with a clean and intuitive UI. With detailed analytics, interactive weather predictions, and user-friendly settings, you can stay ahead of any climate changes."}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mt-6",children:"Key Features"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 mt-2",children:[e.jsx("li",{children:"ðŸŒ Real-time global weather updates"}),e.jsx("li",{children:"ðŸ“Š Advanced analytics for tracking temperature and humidity trends"}),e.jsx("li",{children:"â˜€ï¸ Weekly and hourly forecasts"}),e.jsx("li",{children:"âš™ï¸ Customizable user settings"})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mt-4",children:"Built with React, Tailwind CSS, and weather APIs, our app ensures a smooth user experience. Explore the weather in your city today!"})]}),Xe="64a50d98c543deaa3972d08a76c4a050",Qe="https://api.openweathermap.org/data/2.5",Je=({city:t="London"})=>{const[i,n]=o.useState([]),[s,a]=o.useState(!0);o.useEffect(()=>{r(t)},[t]);const r=async l=>{var g;a(!0);try{const p=(await N.get(`${Qe}/forecast?q=${l}&units=metric&appid=${Xe}`)).data.list.filter(h=>h.dt_txt.includes("12:00:00"));n(p)}catch(d){console.error("API Error:",((g=d.response)==null?void 0:g.data)||d.message),k.error("Error fetching advanced forecast.")}finally{a(!1)}};return e.jsxs("div",{className:"max-w-4xl mx-auto mt-8 p-6 bg-white dark:bg-gray-800 shadow-lg rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"7-Day Advanced Forecast"}),s?e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-300",children:"Loading..."}):e.jsx("div",{className:"space-y-4",children:i.map(l=>e.jsxs("div",{className:"flex justify-between p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[e.jsx("p",{className:"text-lg font-semibold",children:new Date(l.dt*1e3).toDateString()}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["ðŸŒ¡ ",Math.round(l.main.temp),"Â°C"]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["ðŸŒ¤ ",l.weather[0].description]})]},l.dt))})]})};ve.register(ke,Se,Ce,Ee,Ae,De,$e,Le,Te);const Ze=({forecast:t})=>{if(o.useEffect(()=>{console.log("ðŸ” Received Forecast Data in Analytics:",t),t&&t.length>0&&t.forEach((a,r)=>{console.log(`ðŸ“… Day ${r+1}:`,a)})},[t]),!t||!Array.isArray(t)||t.length===0)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No forecast data available"})});const i={labels:t.map(a=>new Date(a.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Max Temperature (Â°C)",data:t.map(a=>a.maxTemp),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.3)",fill:!0,tension:.4},{label:"Min Temperature (Â°C)",data:t.map(a=>a.minTemp),borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.3)",fill:!0,tension:.4}]},n={labels:t.map(a=>new Date(a.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Humidity (%)",data:t.map(a=>typeof a.humidity=="number"?a.humidity:0),backgroundColor:"rgba(54, 162, 235, 0.8)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},s={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1}},y:{grid:{display:!1},beginAtZero:!0,ticks:{stepSize:10}}}};return e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md max-w-5xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-4",children:"Weather Analytics"}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Temperature Trends"}),e.jsx("div",{className:"h-80 w-full",children:e.jsx(Ne,{data:i,options:s})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Humidity Levels"}),e.jsx("div",{className:"h-80 w-full",children:e.jsx(we,{data:n,options:s})})]})]})},W="64a50d98c543deaa3972d08a76c4a050",I="https://api.openweathermap.org/data/2.5";function Ve(){const[t,i]=o.useState(()=>localStorage.getItem("darkMode")==="true"),[n,s]=o.useState(""),[a,r]=o.useState("London"),[l,g]=o.useState(null),[d,p]=o.useState(null),[h,w]=o.useState(!1),[b,C]=o.useState(!0);o.useEffect(()=>{document.documentElement.classList.toggle("dark",t),localStorage.setItem("darkMode",t)},[t]),o.useEffect(()=>{v("London")},[]);const v=async y=>{var A,D,$;const u=y.trim();if(!u){k.error("Please enter a city name.");return}r(u),C(!0);try{const j=await N.get(`${I}/weather?q=${u}&units=metric&appid=${W}`);g(j.data);const L=await N.get(`${I}/forecast?q=${u}&units=metric&appid=${W}`);console.log("ðŸ” API Forecast Response:",L.data);const J=L.data.list.reduce((c,m)=>{const x=new Date(m.dt*1e3).toDateString();return c[x]?(c[x].maxTemp=Math.max(c[x].maxTemp,m.main.temp_max),c[x].minTemp=Math.min(c[x].minTemp,m.main.temp_min),c[x].humidity=Math.max(c[x].humidity,m.main.humidity||0)):c[x]={date:m.dt*1e3,maxTemp:m.main.temp_max,minTemp:m.main.temp_min,humidity:m.main.humidity||0,condition:m.weather[0].main},c},{}),T=Object.values(J).slice(0,3);p(T),console.log("âœ… Processed Forecast Data:",T)}catch(j){console.error("âŒ API Error:",((A=j.response)==null?void 0:A.data)||j.message),k.error((($=(D=j.response)==null?void 0:D.data)==null?void 0:$.message)||"Error fetching weather data. Please try again.")}finally{C(!1)}},G=y=>{y.key==="Enter"&&v(n)},X=()=>{i(y=>!y)},E=()=>{w(!h)},Q=l?Array.from({length:24},(y,u)=>({time:`${u}:00`,temp:Math.round(l.main.temp+Math.sin(u/4)*2)})):[];return e.jsx(Ie,{children:e.jsx(xe,{children:e.jsxs("div",{className:`flex h-screen transition-colors duration-300 ${t?"dark bg-gray-900 text-white":"bg-gray-100 text-black"}`,children:[e.jsx(Re,{isOpen:h,toggleSidebar:E,darkMode:t}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Pe,{darkMode:t,toggleDarkMode:X,searchCity:n,setSearchCity:s,handleSearch:()=>v(n),handleKeyPress:G,toggleSidebar:E}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 lg:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto space-y-6",children:e.jsxs(ge,{children:[e.jsx(f,{path:"/",element:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(He,{weather:l,loading:b,darkMode:t}),e.jsx(qe,{loading:b,darkMode:t})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Be,{weather:l,loading:b,darkMode:t}),e.jsx(Oe,{forecast:d,loading:b,darkMode:t})]}),e.jsx(_e,{data:Q,loading:b,darkMode:t})]})}),e.jsx(f,{path:"/about",element:e.jsx(Ge,{darkMode:t})}),e.jsx(f,{path:"/Forecast",element:e.jsx(Je,{city:a,darkMode:t})}),e.jsx(f,{path:"/analytics",element:e.jsx(Ze,{weather:l,forecast:d,darkMode:t})}),e.jsx(f,{path:"/setting",element:e.jsx(q,{darkMode:t})})]})})})]}),e.jsx(V,{position:"top-right"})]})})})}Z.createRoot(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx(Ve,{})}));
